
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>ezrasuki</title>
	<meta name="author" content="Ezrasuki">

	
	<meta name="description" content="Types of AVAsset AVComposition: new media by composing multiple media
AVURLAsset: media at a given URL AVAsset components AVMetaDataItem: metadata &hellip;">
	

	<link href="/atom.xml" rel="alternate" title="ezrasuki" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
	

	
</head>

<body>
	<header id="header" class="inner"><nav><h1><a href = "/">ezrasuki</a></h1>
<!--
<ul>
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
-->
</nav>
</header>
	<div id="content" class="inner">


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/10/how-is-avasset-structured/">How Is AVAsset Structured?</a></h1>
  
  








	
		<time datetime="2013-09-10T23:33:00-04:00">
			<span class="day">10</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <p><img src="https://developer.apple.com/library/ios/documentation/AudioVideo/Conceptual/AVFoundationPG/Art/avassetHierarchy_2x.png" alt="Types of AVAsset" /></p>

<h1>Types of AVAsset</h1>

<ol>
<li>AVComposition: new media by composing multiple media</li>
<li>AVURLAsset: media at a given URL</li>
</ol>


<h1>AVAsset components</h1>

<ol>
<li>AVMetaDataItem: metadata about the asset as a whole, such as duration, title, size, etc.</li>
<li>AVAssetTrack: separate tracks that add up to the entire asset, such as video, audio, etc.</li>
<li><code>AVAssetTrack</code> in turn can be composed of <code>AVAssetTrackSegment</code>, which is a mapping from a source to the current track timeline.</li>
</ol>


  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/avasset/'>avasset</a><a class='category' href='/blog/categories/avfoundation/'>avfoundation</a><a class='category' href='/blog/categories/ios/'>iOS</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/core-image/">Core Image</a></h1>
  
  








	
		<time datetime="2013-09-08T21:17:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    

  
  
  <footer class="meta">
    



    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/drawing-with-core-graphics-and-quartz2d/">Drawing With Core Graphics and Quartz2D</a></h1>
  
  








	
		<time datetime="2013-09-08T20:42:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h1>Various Quartz2D inititalization</h1>

<h2>Get the current view&rsquo;s context</h2>

<p>Each view has its own drawing context. Let&rsquo;s first get the context.</p>

<pre><code>CGContextRef graphics_context = UIGraphicsGetCurrentContext();
</code></pre>

<h2>Generate color</h2>

<pre><code>// Create colorspace (In this case, RGB space)
CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();

// Set up RGB constant
CGFloat components[] = {0.0, 0.0, 1.0, 0.5};

// Create CGColorRef using the colorspace and the RGB variable from above
CGColorRef color = CGColorCreate(colorspace, components);

// When done with using the color, let it go
CGColorRelease (color);

// After done using the colorspace
CGColorSpaceRelease(colorspace);
</code></pre>

<h1>When do I use UIColor with CGColorRef?</h1>

<p>UIColor has lots of convenience methods such as:</p>

<pre><code>[UIColor redColor]
</code></pre>

<p>So instead of going through all the tedious RGB specification, we can just create a <code>[UIColor redColor]</code> and then convert it to CGColor, and then use it to set context</p>

<pre><code>CGContextSetStrokeColorWithColor(context, [UIColor redColor].CGColor);
</code></pre>

<p>UIColor avoids the necessity to create colorspaces and components when working with colors.</p>

<h1>Let&rsquo;s actually do some drawing!</h1>

<h2>1. Create a UIView</h2>

<p>Just create a project with a UIView</p>

<h2>2. Modify drawRect:</h2>

<h3>Drawing lines</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
    // 1. Get context
    CGContextRef context = UIGraphicsGetCurrentContext();

    // From here, set the context's attributes

    // 2. Set Line Width
    CGContextSetLineWidth(context, 5.0);

    // 3. Set Stroke Color 
    CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();
    CGFloat components[] = {0.0, 0.0, 1.0, 1.0};
    CGColorRef color = CGColorCreate(colorspace, components);
    CGContextSetStrokeColorWithColor(context, color);

    // 4. Move context's point
    CGContextMoveToPoint(context, 0, 0);

    // 5. Draw line from point to another point
    CGContextAddLineToPoint(context, 150, 150);
    CGContextAddLineToPoint(context, 100, 200);
    CGContextAddLineToPoint(context, 50, 150);
    CGContextAddLineToPoint(context, 100, 100);

    // 6. Actually "stroke" to draw
    CGContextStrokePath(context);

    // 6. Memory release
    CGColorSpaceRelease(colorspace);
    CGColorRelease(color);
}
</code></pre>

<h3>Drawing rectangle</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
    // 1. Init
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetLineWidth(context, 4.0);
    CGContextSetStrokeColorWithColor(context, [UIColor blueColor].CGColor);

    // 2. Create CGRect area
    CGRect rectangle = CGRectMake(60,170,200,80);

    // 3. Add rectangle region to the context
    CGContextAddRect(context, rectangle);

    // 4. Actually "stroke" to draw
    CGContextStrokePath(context);
}
</code></pre>

<h3>Drawing an ellipse</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
    // 1. Init
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetLineWidth(context, 4.0);
    CGContextSetStrokeColorWithColor(context, [UIColor blueColor].CGColor);

    // 2. Create CGRect area
    CGRect rectangle = CGRectMake(60,170,200,80);

    // 3. Add ellipse inside the CGRect in context
    CGContextAddEllipseInRect(context, rectangle);

    // 4. Actually "stroke" to draw
    CGContextStrokePath(context);
}
</code></pre>

<h3>Drawing an arc</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetLineWidth(context, 4.0);
    CGContextSetStrokeColorWithColor(context, [UIColor blueColor].CGColor);

    // 1. Set begin point
    CGContextMoveToPoint(context, 100, 100);

    // 2. add arc to context
    CGContextAddArcToPoint(context, 100,200, 300,200, 100);

    // 3. stroke the context
    CGContextStrokePath(context);
}
</code></pre>

<h3>Drawing an UIImage without scaling</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
  // 1. Get UIIMage
  UIImage *myImage = [UIImage imageNamed:@"img.jpg"];

  // 2. Start point is (0,0)
  CGPoint imagePoint = CGPointMake(0, 0);

  // 3. Just add the image at (0,0)
  [myImage drawAtPoint:imagePoint];
}
</code></pre>

<h3>Drawing an UIImage with scaling</h3>

<pre><code>- (void)drawRect:(CGRect)rect {
    // 1. Get UIImage
    UIImage *myImage = [UIImage imageNamed:@"pumpkin.jpg"];

    // 2. Get CGRect dimension for the entire screen
    CGRect imageRect =[[UIScreen mainScreen] bounds];

    // 3. Draw inside the CGRect
    [myImage drawInRect:imageRect];
}
</code></pre>

  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/coregraphics/'>coregraphics</a><a class='category' href='/blog/categories/ios/'>iOS</a><a class='category' href='/blog/categories/quartz2d/'>quartz2d</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/opaque-types-in-objective-c/">Opaque Types in Objective-c</a></h1>
  
  








	
		<time datetime="2013-09-08T18:05:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h1>What is an Opaque type?</h1>

<ul>
<li>a type that wraps lower-level types</li>
<li>used when

<ul>
<li>the underlying implementation is complex</li>
<li>the user does not need to know about the inner workings.</li>
</ul>
</li>
<li>The individual fields of an object based on an opaque type are hidden from clients, but the type’s functions offer access to most values of these fields</li>
</ul>


<h1>A. Opaque types in Core Foundation</h1>

<p>Core foundation has many &ldquo;opaque types&#8217;.</p>

<h2>What is Core Foundation?</h2>

<p>Core Foundation is a library with a set of programming interfaces conceptually derived from the Objective-C-based Foundation framework but implemented in the C language.</p>

<h3>1. Makes it possible for the different frameworks and libraries on OS X to share code and data.</h3>

<p>Applications, libraries, and frameworks can define C routines that incorporate Core Foundation types in their external interfaces; they can thus communicate data—as Core Foundation objects—to each other through these interfaces.</p>

<h3>2. Makes some degree of operating-system independence possible</h3>

<p>Some Core Foundation types and functions are abstractions of things that have specific implementations on different operating systems.</p>

<h3>3. Supports internationalization with Unicode strings</h3>

<p>Uses CFString, instances of which represent an array of 16-bit Unicode characters. Flexible enough to hold megabytes worth of characters and yet simple and low-level enough for use in all programming interfaces communicating character data</p>

<h2>Opaque type examples in Core Foundation</h2>

<ul>
<li>CFString: an opaque type that &ldquo;represents&rdquo; and operates on Unicode character arrays.</li>
<li>CFArray: an opaque type for indexed-based collection functionality.</li>
</ul>


<h1>B. Opaque types in Quartz2D</h1>

<ul>
<li>CGPathRef: vector graphics</li>
<li>CGImageRef: bitmap images</li>
<li>CGLayerRef: drawling layer that can be used for repeated drawing and offscreen drawing</li>
<li>CGPatternRef: repeated drawing using patterns</li>
<li>CGShadingRef: for gradients</li>
<li>CGGradientRef: for gradients</li>
<li>CGColorRef: used for colors in Quartz2D</li>
<li>CGImageSourceRef: move data into and out of Quartz</li>
<li>CGFontRef: to draw text</li>
</ul>


  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/ios/'>iOS</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/drawing-on-ios/">Drawing on iOS</a></h1>
  
  








	
		<time datetime="2013-09-08T15:20:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h1>Quartz2D:</h1>

<ul>
<li>Two dimensional graphics drawing engine that makes up the bulk of the UIKit <strong>Core Graphics</strong> Framework.</li>
<li>C based API</li>
<li>Typically used on UIView object</li>
<li>Features

<ul>
<li>path-based drawing</li>
<li>painting with transparency</li>
<li>shading, drawing shadows</li>
<li>transparency layers</li>
<li>color management</li>
<li>anti-aliased rendering</li>
<li>PDF document generation</li>
<li>PDF metadata access</li>
</ul>
</li>
<li>Works with other technologies like

<ul>
<li>Core Animation</li>
<li>OpenGL ES</li>
<li>UIKit</li>
</ul>
</li>
</ul>


<h2>How Quartz2D works</h2>

<ul>
<li>Painter&rsquo;s model:

<ul>
<li>each successive drawing operation applies a layer of &ldquo;paint&rdquo; to an output &ldquo;canvas&rdquo;</li>
<li>the drawing can be modified by overlaying more paint</li>
</ul>
</li>
<li>The canvas can be:

<ul>
<li>PDF</li>
<li>Bitmap image</li>
<li>Printer</li>
</ul>
</li>
</ul>


<h2>Graphics context (the &ldquo;canvas&rdquo;)</h2>

<p>CGContextRef is the drawing destination. It can be: Window, Layer, Bitmap, PDF, Printer, etc.
&ndash; No need to perform device-specific calculations. Quartz takes care of it.</p>

<h3>Type of contexts</h3>

<ol>
<li>Bitmap graphics context: rectangular array (or raster) of pixels</li>
<li>PDF graphics context</li>
<li>PDF files, unlike bitmaps, may contain more than one page.</li>
<li>Drawing a page from a PDF file on a different device results in the image being optimized for the display characteristics of that device.</li>
<li>Window graphics context</li>
<li>Layer context: <code>CGLayerRef</code> is an offscreen drawing destination associated with another graphics context.</li>
<li>PostScript graphics context: for printing</li>
</ol>


<h2>Graphics state</h2>

<h3>What is a Graphic state?</h3>

<ul>
<li>color</li>
<li>line width</li>
<li>current position</li>
<li>text font size</li>
</ul>


<h3>Graphics context maintains a stack of Graphic states</h3>

<p>When context is created, the stack is empty. When i save a context, the current state is pushed to the stack
&ndash; <code>CGContextSaveGState</code> pushes the current context onto stack
&ndash; <code>CGContextRestoreGState</code> pops the stack to restore previous context</p>

<h2>Quartz2D Coordinate systems</h2>

<h3>How Quartz2D achieves Device independent representation</h3>

<p>uses a separate coordinate system (<code>user space</code>), mapping it to the coordinate system of the output device (<code>device space</code>), using the current transformation matrix (CTM).
&ndash; CTM: affine transform matrix
  &ndash; maps points by applying translation (move), rotation (rotate), and scaling (resize) operations.
  &ndash; to draw a box 45 degrees rotated, rotate CTM first and then draw inside the box.</p>

<h3>Origin (0,0) is bottom-left corner.</h3>

<p><img src="https://developer.apple.com/library/ios/DOCUMENTATION/GraphicsImaging/Conceptual/drawingwithquartz2d/Art/quartz_coordinates.gif" alt="Quartz2D coordinate system" />
This is different from some other drawing coordinate systems
&ndash; UIView: top-left corner is (0,0)
  &ndash; to switch, apply a transform that translates the origin to the upper-left corner of the PDF context and scales the y-coordinate by -1.
  &ndash; However, if you use a UIImage object to wrap a CGImage object you create, no need to modify the CTM.</p>

<p><img src="https://developer.apple.com/library/ios/DOCUMENTATION/GraphicsImaging/Conceptual/drawingwithquartz2d/Art/flipped_coordinates.jpg" alt="Modifying the coordinate system" /></p>

  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/coregraphics/'>coregraphics</a><a class='category' href='/blog/categories/coreimage/'>coreimage</a><a class='category' href='/blog/categories/ios/'>iOS</a><a class='category' href='/blog/categories/quartz2d/'>quartz2d</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/cgimage-vs-ciimage-vs-uiimage/">CGImage vs. CIImage vs. UIImage</a></h1>
  
  








	
		<time datetime="2013-09-08T08:35:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h2>UIImage</h2>

<ul>
<li>From UIKit</li>
<li>a high level way of displaying image data.</li>
<li>Not mutable</li>
<li>Just displaying the image</li>
</ul>


<h2>CGImage</h2>

<ul>
<li>From Core Graphics</li>
<li>Can cut out areas of the image</li>
</ul>


  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/coregraphics/'>coregraphics</a><a class='category' href='/blog/categories/coreimage/'>coreimage</a><a class='category' href='/blog/categories/ios/'>iOS</a><a class='category' href='/blog/categories/learn/'>learn</a><a class='category' href='/blog/categories/uiimage/'>uiimage</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/avasset/">AVAsset</a></h1>
  
  








	
		<time datetime="2013-09-08T08:13:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h1>Facts about AVAsset</h1>

<ul>
<li>Made up of &ldquo;Tracks&rdquo; : Could be audio or video track.</li>
<li>Provides information about the collection of audio tracks and video tracks as a whole, including title, duration, size, etc.</li>
<li>Not tied to any file format</li>
<li>Initializaing an asset doesn&rsquo;t mean it&rsquo;s ready to use. Therefore use a block for asynchronous usage.</li>
</ul>


<h1>A. Preparing AVAsset</h1>

<h2>1. Typical Scenario</h2>

<pre><code>// 1. Get File Manager
NSFileManager *filemgr = [NSFileManager defaultManager];

// 2. Get vid.mov inside tmp directory
NSString *fileName = [NSTemporaryDirectory() stringByAppendingPathComponent:@"vid.mov"];

// 3. Get a NSURL version of the filename
NSURL *url = [NSURL fileURLWithPath: fileName];

// 4. Create an asset with the URL
AVURLAsset *anAsset = [[AVURLAsset alloc] initWithURL:url options:nil];
</code></pre>

<h2>2. Initialize for precise timing</h2>

<p>For just playing, probably no need for passing the option. However if I want to add the asset to an AVMutableComposition, I may need to.</p>

<pre><code>NSDictionary *options = @{ AVURLAssetPreferPreciseDurationAndTimingKey : @YES };
AVURLAsset *anAssetToUseInAComposition = [[AVURLAsset alloc] initWithURL:url options:options];
</code></pre>

<h1>B. Using AVAsset</h1>

<p>Running <code>initWithURL:options:</code> does not mean that the asset is prepared to be accessed. Therefore must use <code>loadValuesAsynchronouslyForKeys:completionHandler:</code> to access the asset asynchronously.</p>

<h2>1. Accessing the Asset&rsquo;s duration</h2>

<pre><code>// ..
// Continued from above...
AVURLAsset *anAsset = [[AVURLAsset alloc] initWithURL:url options:nil];
NSArray *keys = @[@"duration"];
[asset loadValuesAsynchronouslyForKeys:keys completionHandler:^() {
    // This block is run after the "duration" value is loaded
    NSError *error = nil;
    AVKeyValueStatus tracksStatus = [asset statusOfValueForKey:@"duration" error:&amp;error];
    switch (tracksStatus) {
        case AVKeyValueStatusLoaded:
            [self updateUserInterfaceForDuration];
            break;
        case AVKeyValueStatusFailed:
            [self reportError:error forAsset:asset];
            break;
        case AVKeyValueStatusCancelled:
            // Do whatever is appropriate for cancelation.
            break;
   }
}];
</code></pre>

<h2>2. Getting an image capture</h2>

<pre><code>AVAsset anAsset = &lt;#Get an asset#&gt;;
if ([[anAsset tracksWithMediaType:AVMediaTypeVideo] count] &gt; 0) {
    AVAssetImageGenerator *imageGenerator = [AVAssetImageGenerator assetImageGeneratorWithAsset:anAsset];
    // Implementation continues...
}
</code></pre>

  
  
  <footer class="meta">
    



    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/getting-started-with-octopress/">Getting Started With Octopress</a></h1>
  
  








	
		<time datetime="2013-09-08T06:28:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <p><img src="/images/octopress.jpg" alt="" /></p>

<h1>A. Setting up</h1>

<h2>1. Clone Octopress to local machine</h2>

<p>Clone the original octopress repo with the name I want for my blog. Running this will create an &ldquo;ezrasuki.github.io&rdquo; folder.</p>

<pre><code>git clone git://github.com/imathis/octopress.git ezrasuki.github.io
</code></pre>

<h2>2. Install Octopress</h2>

<pre><code>bundle install
rake install
</code></pre>

<h2>3. Configure Octopress</h2>

<p>Open <code>_config.yml</code> and edit some attributes I want to change.</p>

<pre><code>url: ezrasuki.github.io
title: .ezra.suki.
subtitle: Adventure of Ezrasuki
author: Ezrasuki
simple_search: http://google.com/search
description:
</code></pre>

<h1>B. Writing a post locally</h1>

<p>From the blog root directory (In my case, the ezrasuki.github.io folder I created by cloning), run this task:</p>

<pre><code>rake new_post["Hello World"]
</code></pre>

<p>It will create a .markdown file under <code>source/_posts</code>, with a name that looks like: <code>2013-09-07-hello-world.markdown</code>. Open and edit so it looks something like this:</p>

<pre><code>---
layout: post
title: "Hello World"
date: 2013-09-07 23:18
comments: true
categories: [Test, Helloworld]
---

This is the content. You can write in markdown.
</code></pre>

<p>Note that &ldquo;categories&rdquo; are basically tags.</p>

<h1>C. Preview blog</h1>

<p>When done, generate HTML from the markdown with:</p>

<pre><code>rake generate
</code></pre>

<p>To preview the post locally, run the following command, which will start a <a href="http://localhost:4000">http://localhost:4000</a> server you can visit.</p>

<pre><code>rake preview
</code></pre>

<h1>C. Deploy to Github</h1>

<p>There are many options for hosting, but I am hosting it on Github because it&rsquo;s free.</p>

<h2>1. Create a Github repo</h2>

<p>Create a repo with the name of your blog. It should look like this: <code>[your github username].github.io</code>. Mine is <code>ezrasuki.github.io</code></p>

<h2>2. Connect Octopress with the Github repo</h2>

<p>Octopress has a rake command which automatically takes care of all this. Run:</p>

<pre><code>rake setup_github_pages
</code></pre>

<p>It will ask you the github repo url. Copy the clone URL from the Github repo and paste it here. It should look something like <code>https://github.com/ezrasuki/ezrasuki.github.io.git</code>.</p>

<h2>3. Deploy</h2>

<h3>A. Deploy generated blog files</h3>

<p>Finally, deploy all the local changes (including the new post) to Github pages repo by running:</p>

<pre><code>rake deploy
</code></pre>

<h3>B. Deploy source files</h3>

<p>This only deploys the master branch, which contains the generated blog content. You may also want to push the source branch. The source branch contains everything except for the generated blog files. This includes:
1. Octopress source code
2. Markdown files for posts</p>

<p>Therefore it is a good idea to commit these too, in order to keep track of this side as well. Run the following:</p>

<pre><code>git commit -am "Committing source"
git push origin source
</code></pre>

<p>Note that <code>git push origin master</code> has been already executed automatically when we ran <code>rake deploy</code> earlier. Again, that was for pushing the final static content. And this time, <code>git push origin source</code> is for pushing the source files.</p>

  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/learn/'>learn</a><a class='category' href='/blog/categories/octopress/'>octopress</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/08/avfoundation-overview/">AVFoundation Overview</a></h1>
  
  








	
		<time datetime="2013-09-08T00:13:00-04:00">
			<span class="day"> 8</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <h1>What is AVFoundation?</h1>

<ol>
<li>AVAsset</li>
</ol>


  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/avfoundation/'>avfoundation</a><a class='category' href='/blog/categories/ios/'>iOS</a><a class='category' href='/blog/categories/learn/'>learn</a></div>

    
  </footer>
  
</div>
</article>


	<article class="post"><header>
  
  <h1 class="title"><a href="/blog/2013/09/07/core-image/">Core Image Basics</a></h1>
  
  








	
		<time datetime="2013-09-07T23:56:00-04:00">
			<span class="day"> 7</span><span class="month">Sep</span>
		</time>
	

</header>
<div class="entry-content">
  
    <p>Core Image provides a mechanism for <strong>filtering</strong> and <strong>manipulating</strong> images and videos. Think Instagram filter effects.</p>

<h1>Example filters</h1>

<ul>
<li>cropping</li>
<li>color effects</li>
<li>blurring</li>
<li>warping</li>
<li>transformations</li>
<li>gradients</li>
</ul>


<p>Take a <strong>CIImage</strong> and apply <strong>CIFilter</strong> to draw on <strong>CIContext</strong></p>

<p>Example</p>

<pre><code>// 1. Get a CIImage
CIImage *image = [CIImage imageWithContentsOfURL:myURL];

// 2. Create a CIFilter
CIFilter *filter = [CIFilter filterWithName:@"CISepiaTone"];

// 3. Apply the filter to the image
[filter setValue:image forKey:kCIInputImageKey];

// 4. More CIFilter customization
[filter setValue:[NSNumber numberWithFloat:0.8f] forKey:@"InputIntensity"];

// 5. Get the resulting image from CIFilter
CIImage *result = [filter valueForKey:kCIOutputImageKey];

// 6. Create CIContext
CIContext *context = [CIContext contextWithOptions:nil];

// 7. Finally, render CIImage onto Core Graphics Image, which then can be displayed or saved.
CGImageRef cgImage = [context createCGImage:result fromRect:[result extent];

// 8. Convert CGImage to UIImage, so we can draw it onto view
UIImage *resultUIImage = [UIImage imageWithCGImage: cgImage];

// 9. Get the CGRect to draw on
CGRect imageRect =[[UIScreen mainScreen] bounds];

// 10. Draw the UIImage onto the CGRect region
[resultUIImage drawInRect:imageRect];
</code></pre>

  
  
  <footer class="meta">
    



	<div class="tags"><a class='category' href='/blog/categories/ios/'>iOS</a><a class='category' href='/blog/categories/learn/'>learn</a><a class='category' href='/blog/categories/note/'>note</a></div>

    
  </footer>
  
</div>
</article>


<nav id="pagenavi">
	
	<a href="/blog/page/2/" class="next alignright">Next</a>
 <div class="clearfix"></div>
</nav>
</div>
	<footer id="footer" class="inner"><div class="social alignright">
	
	
	
	
	
	<a class="rss" href="/atom.xml" title="RSS">RSS</a>
</div>
<p>&copy; 2013 Ezrasuki</p>
<div class="clearfix"></div></footer>
	<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
	(function($){
		$('.entry-content').each(function(i){
			var _i = i;
			$(this).find('img').each(function(){
				var alt = $(this).attr('alt');

				if (alt == '' || typeof alt == 'undefined'){
					$(this).wrap('<a href="'+$(this).attr('src')+'" class="fancybox" rel="gallery'+_i+'" />');
				} else {
					$(this).after('<span class="caption">'+alt+'</span>').wrap('<a href="'+$(this).attr('src')+'" class="fancybox" title="'+alt+'" rel="gallery'+_i+'" />');
				}
			});
		});
		$('.fancybox').fancybox();
	})(jQuery);
</script>





</body>
</html>